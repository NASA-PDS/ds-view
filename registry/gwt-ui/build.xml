<?xml version="1.0" encoding="UTF-8"?>

<project name="registry-ui">

	<property name="source.dir" value="${basedir}/src" />
	<property name="war.dir" value="${basedir}/war" />
	<property name="target.dir" value="${basedir}/target" />
	<property name="war.path" value="${dist.dir}/registry-ui.war" />
	<property name="endpoint.location" value="http://localhost:8080/registry-service/" />

	<target name="update-endpoint">
		<echo>Writing endpoint location as ${endpoint.location}, use -Dendpoint.location=... to overwrite.</echo>
		<mkdir dir="${target.dir}/registry-ui/WEB-INF/classes/"/>
		<propertyfile file="${target.dir}/registry-ui/WEB-INF/classes/application.properties">
			<entry key="endpoint.location" operation="=" value="${endpoint.location}" />
		</propertyfile>
	</target>

	<target name="copy-static" description="A helper task to allow skipping a full GWT compile just for css and javascript changes">
		<copy todir="${war.dir}/registry_ui">
			<fileset dir="${source.dir}/gov/nasa/pds/registry/ui/public">
				<exclude name="**/.svn" />
			</fileset>
		</copy>
	</target>

</project>
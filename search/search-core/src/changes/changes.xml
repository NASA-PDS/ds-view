<?xml version="1.0" encoding="UTF-8"?>

<!--
  Copyright 2011-2013, by the California Institute of Technology.
  ALL RIGHTS RESERVED. United States Government Sponsorship acknowledged.
  Any commercial use must be negotiated with the Office of Technology Transfer
  at the California Institute of Technology.

  This software is subject to U. S. export control laws and regulations
  (22 C.F.R. 120-130 and 15 C.F.R. 730-774). To the extent that the software
  is subject to U.S. export control laws and regulations, the recipient has
  the responsibility to obtain export licenses or other export authority as
  may be required before exporting such information to foreign countries or
  providing access to foreign nationals.
    
  $Id$
-->

<document>
  <properties>
    <title>Release Changes</title>
    <author email="Jordan.H.Padams@jpl.nasa.gov">Jordan Padams</author>
  </properties>
  
  <body>
    <release version="1.3.0" date="TBD" description="TBD">
      <action dev="jpadams" type="add">
	Created new logging and stats classes to maintain the missing slot/associations/etc.
      </action>
      <action dev="jpadams" type="update" issue="PDS-189">
	Updated command-line options and property keys to allow for specification of primary and secondary registries; also update XSD to allow for inclusion of 'DataSources' which can then be set with primary/secondary 'priority' and DataSource type (i.e. registry) as well as the option to 'append' the new sources to the current list specified via command-line/property file, or to overwrite. 
      </action>
      <action dev="jpadams" type="update">
	Updated unit tests to reflect changes from PDS-189.
      </action>
      <action dev="jpadams" type="update">
	Leveraged decorator pattern for Extrinsic Objects to allow for extension of the objects that come back from the Registry. Allows for methods like getLidvid, getSlotValues, etc.
      </action>
      <action dev="jpadams" type="update">
	Refactored RegistryAttributes class to be an enum to better handle Registry attributes.
      </action>
      <action dev="jpadams" type="update">
	Updated unit tests to test new classes/methods.
      </action>
      <action dev="jpadams" type="update">
	Updated core configs to work with XSD.
      </action>
      <action dev="jpadams" type="update" issue="PDS-144">
	Get all .xml files in the given config directory instead of requiring product-classes.txt to be specified.
      </action>
      <action dev="jpadams" type="update" issue="PDS-154">
Allow for unlimited 'jumps' for associations to be specified (i.e. instrument_host_ref.instrument_ref.data_set_ref.node_ref.agengy_ref.alternate_id will get agency).
      </action>
      <action dev="jpadams" type="update">
	Updated software to use XML schema to specify configurations for different products. Introduced core-config.xsd.
      </action>
      <action dev="jpadams" type="update">
	Removed Indexer and ProfileParser classes that have been deprecated from use and no longer have a use. Updated Launcher to remove reference to these classes.
      </action>
      <action dev="jpadams" type="update" issue="PDS-173">
	Completed patch for use with Solr 4, including updates to pom dependencies and Indexer.java.
      </action>
      <action dev="jpadams" type="update">
	Cleaned up assembly.xml to use correct syntax for recursive include.
      </action>
      <action dev="jpadams" type="update">
	Updated SearchCorePDS3Test to run against only 5 data sets instead of 1000 to improve deployment performance.
      </action>
      <action dev="jpadams" type="update">
	Updated solr-post script to use awk instead of gawk for systems that do not have gawk installed.
      </action>
      <action dev="jpadams" type="update" issue="PDS-177">
	Updated PDS config files to point to relative instead of absolute URL to resolve issue with domain specificity.
      </action>
      <action dev="jpadams" type="update">
	Updated OPUS description in search-tools.xml.
      </action>
    </release>

    <release version="1.2.1" date="2013-06-21" description="This release of the Search Core is a component of the integrated release 3.1.1 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="jpadams" type="update">
        Updated EN-specific documentation to be very explicit with exact steps for running index.
      </action>
    </release>

    <release version="1.2.0" date="2013-03-31" description="This release of the Search Core is a component of the integrated release 3.1.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="jpadams" type="add" issue="PDS-138">
        Created Search Service config files for Bundle, Collection, and Context PDS4 products.
      </action>
      <action dev="jpadams" type="update">
        Updated config file directories to reflect future installations (pds/pds3, pds/pds4, psa/pds3).
      </action>
      <action dev="jpadams" type="update">
        Updated PDS3 product configurations to remove all search fields named mission_* with investigation_* to meet with PDS4 model.
      </action>
      <action dev="jpadams" type="update">
        Updated unit test classes to reflect changes in config file directories.
      </action>
      <action dev="jpadams" type="add">
        Created initial-index-pdsen script that will create index specific to PDS Engineering node, including flags for PDS3, PDS4, and PSA data products.
      </action>
    </release>

    <release version="1.1.1" date="2012-11-14" description="This release of the Search Core is a component of the PDS4 System. This is an operational release supporting the deployment of the system at the Engineering Node and includes updates for issues discovered during deployment.">
      <action dev="jpadams" type="add">
        Created ops-index script to rsync data from remote machine in order for operational use.
      </action>
      <action dev="jpadams" type="add">
        Created env-vars scripts to allow for specification of all environment variables. Minimizes potential human error.
      </action>
      <action dev="jpadams" type="update" issue="PDS-132">
        Updated module documentation to handle more potential errors from installation.
      </action>
      <action dev="jpadams" type="update">
        Updated in-line documentation in all core Bash scripts for running the index.
      </action>
    </release>

    <release version="1.1.0" date="2012-11-09" description="This release of the Search Core is a component of the PDS4 System. This is an operational release supporting the deployment of the system at the Engineering Node.">
      <action dev="jpadams" type="add" issue="PDS-119">
        Created new Archive Information configuration file to include mission resources in search results.
      </action>
      <action dev="jpadams" type="update" issue="PDS-119">
        Updated ProductClass and SearchField classes to include handling of a name-based query of the registry in order to return Archive Information.
      </action>
      <action dev="jpadams" type="update" issue="PDS-121">
        Updated hierarchy to include new agency facet.
      </action>
      <action dev="jpadams" type="update" issue="PDS-121">
        Updated data set config to include new agency_name field.
      </action>
      <action dev="jpadams" type="update">
        Fixed bug in solr-post script where the search tools were not being included in the index.
      </action>
    </release>

    <release version="1.0.0" date="2012-09-30" description="This release of the Search Core is a component of the integrated release 3.0.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="jpadams" type="add" issue="PDS-102">
        Created PDSDateConvert class to handle conversions of PDS4-compliant date/time values into Solr-compliant date/time values.
      </action>
      <action dev="jpadams" type="update" issue="PDS-100">
        Refactored the Search Protocol and XML Response Writer out of the search-core and into search-service. Also moved Solr index scripts from search-service to search-core and updated the scripts to use absolute paths. Updated pom files accordingly to reflect changes in dependencies from refactoring of Solr stuff.
      </action>
      <action dev="jpadams" type="update">
        Updated CLI by requiring registry URL to be specified, a new flag to specify a configuration directory, and a new flag to specify Search Service Home.
      </action>
      <action dev="jpadams" type="update">
        Renamed several classes to use PDS4 terminology (i.e ProductClass.java and SearchFields.java).
      </action>
      <action dev="jpadams" type="update">
        Updated Solr document parser class to populate unknown/null date/time fields with values.
      </action>
      <action dev="jpadams" type="update">
        Updated Solr Indexer to create multiple solr-index.xml depending on a specified threshold of index documents for Solr Index file. This coincides with changes to the solr-post script, alleviating issues with Java Heap during XSLT transformations prior to posting to the Solr Web App.
      </action>
      <action dev="jpadams" type="update">
        Updated PSA Config to capture more information from data in the registry. THis may be a temporary fix until more data is available. Includes data_object_type and mission_start/stop_date.
      </action>
      <action dev="jpadams" type="update">
        Modified references to Search Service Home throughout application and documentation in an effort to eliminate confusion between the path used in Search Core versus the path specified in the Search Service installation. Changed Search Service Home to Search Home, where applicable.
      </action>
      <action dev="jpadams" type="update">
        Updated Installation and Operation documentation to reflect the changes in tool functionality.
      </action>
      <action dev="jpadams" type="fix">
        Fixed bug in ProductClass class to set default version to 1.0 when associated lidvid does not contain a version.
      </action>
    </release>

    <release version="0.3.0" date="2012-06-11" description="This release of the Search Core is a component of the integrated release 2.2.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="jpadams" type="add">
        Added command-line option to specify number of queried records.
      </action>
      <action dev="jpadams" type="add">
        Updated the configuration to reflect to changes in slot names, in accordance with changes made by harvest.
      </action>
      <action dev="jpadams" type="update">
        Refactored Registry Extractor, Solr Indexer, and PDS Indexer to reflect changes in the registry-core client.
      </action>
      <action dev="shardman" type="remove">
        Removed the parent project's Release Notes document. This document now serves as the single source for this component's release changes.
      </action>
    </release>

    <release version="0.2.0" date="2012-01-31" description="This release of the Search Core is a component of the integrated release 2.1.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="shardman" type="update">
        Cleaned up the documentation and removed the PDF generation feature.
      </action>
    </release>

    <release version="0.1.0" date="2011-11-09" description="This release of the Search Core is a component of the integrated release 2.0.0 of the PDS4 System. This is an operational release of the system components to date.">
      <action dev="pramirez" type="add">
        Initial implementation of PDS search protocol request handler.
      </action>
      <action dev="jpadams" type="add">
        Refactored implementation of Registry Data Search prototype to work with registry-core v1.0.0.
      </action>
      <action dev="jpadams" type="add">
        Command-line interface to run Registry Extractor, Solr Indexer, and PDS Indexer.
      </action>
    </release>
  </body>
</document>

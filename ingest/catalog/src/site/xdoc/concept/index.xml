<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2010-2012, by the California Institute of Technology.
  ALL RIGHTS RESERVED. United States Government Sponsorship acknowledged.
  Any commercial use must be negotiated with the Office of Technology Transfer
  at the California Institute of Technology.

  This software is subject to U. S. export control laws and regulations
  (22 C.F.R. 120-130 and 15 C.F.R. 730-774). To the extent that the software
  is subject to U.S. export control laws and regulations, the recipient has
  the responsibility to obtain export licenses or other export authority as
  may be required before exporting such information to foreign countries or
  providing access to foreign nationals.

  $Id$
-->

<document>
  <properties>
    <title>Concept</title>
    <author email="Sean.Hardman@jpl.nasa.gov">Sean Hardman</author>
  </properties>

  <body>
    <section name="Concept">
      <p>The Catalog Tool has been designed to replace several tools that have been utilized over the years to support the PDS3 catalog submission process. Besides simplifying the process by consolidating tools, it also provides consistency in handling of catalog files because the application is built on top of the Product Tools Library which provides reusable APIs for parsing and validating PDS product labels. The following diagram details the flow of the catalog submission process:
      </p>

      <center><img alt="Catalog Activity" src="../images/citool_activity.jpg"/></center>

      <p>The catalog submission process is divided into three steps:
      </p>

      <ul>
        <li>Preparation of the catalog files by Data Engineers at the Discipline Nodes (DNs)</li><br/>
          <p>During this step the DN Data Engineers are encouraged to utilize the <i>Compare</i> and <i>Validate</i> modes of the application. The <i>Compare</i> mode enables the user to compare a single catalog file with another or a set of catalog files with another set (assuming they are like-named). The <i>Validate</i> mode performs the same validation as the Validation Tool (VTool) but also includes checks for referential integrity. The referential integrity check helps to ensure that the catalog submission is internally consistent. Details on the types of checks performed can be found in the <a href="../operate/index-ref.html">Referential Integrity Checking</a> section. If viewing this document in PDF form, see the appendix for details.
          </p>
          <p/>
        <li>Validation of the catalog files and generation of ancillary information by Data Engineers at the Engineering Node (EN)</li><br/>
          <p>During this step the EN Data Engineers also utilize the <i>Compare</i> and <i>Validate</i> modes of the application. By utilizing the same tool to accomplish these tasks, we should be able to reduce the back-and-forth between the EN and DN's during the submission process.
          </p>
          <p/>
        <li>Ingestion of the catalog files into the Registry Service by the Operations staff at the Engineering Node</li><br/>
          <p>During this step the EN Operator utilizes the <i>Ingest</i> mode to ingest the catalog submission. Although this mode is generally available to users of the application, only the EN Operator is authorized to perform ingestions into the Registry Service. Although it has not been incorporated into the tool yet, there is a post-ingestion referential integrity check against the registry that is performed. This will be included in a future release of Catalog Tool.
          </p>
          <p/>
      </ul>
    </section>

    <section name="Inputs/Outputs">
      <p>The following diagram details the inputs and outputs for Catalog Tool:
      </p>

      <center><img alt="Catalog Interfaces" src="../images/citool_interfaces.jpg"/></center>

      <p>The inputs and outputs for the tool are described below.
      </p>

      <subsection name="Inputs">
        <p>The application allows the specification of a target or targets for each of the modes. In the <i>Compare</i> mode, the first target specified is compared against the second target. In the <i>Validate</i> and <i>Ingest</i> modes, the specified targets are taken as a whole and considered the catalog submission.
        </p>

        <p>The application also allows the user to import multiple PDS compliant data dictionaries for use during the <i>Validate</i> mode. The assumption is that the user will load one instance of the Planetary Science Data Dictionary (PSDD) and any number of local data dictionaries appropriate for the design session. In this case, the tool will validate the contents of the data dictionary files. The latest PSDD can be downloaded from the <a href="http://pds.nasa.gov/tools/dictionary.shtml" target="_blank">Data Dictionary</a> page on the PDS web site at http://pds.nasa.gov/tools/dictionary.shtml.
        </p>

        <p>In order to perform referential integrity checking against references contained in the catalog files, the application allows the user to import the Allrefs file. This file contains the listing of all references contained in the PDS catalog database. The latest version of this file is also available for download from the the <a href="http://pds.nasa.gov/tools/dictionary.shtml" target="_blank">Data Dictionary</a> page on the PDS web site. The link to the file can be found in the menu bar on the left hand side of the page.
        </p>
      </subsection>

      <subsection name="Outputs">
        <p>Each mode of the application (Compare, Validate, Ingest) produces a report in a slightly different format. The <a href="../operate/index.html#Report_Formats">Operation</a> section provides details on these reports and links to example reports. If viewing this document in PDF form, see the appendix for the actual examples.
        </p>

        <p>The other major output of this application is the ingestion of the catalog submission into the Registry Service. This interface utilizes the REST-based API provided by the Registry Service.
        </p>
      </subsection>
    </section>
  </body>
</document>
